<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>موقع ألعاب تفاعلي</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #121212;
    color: #eee;
    margin: 0;
    padding: 10px 20px;
    text-align: center;
  }
  h1 {
    margin-bottom: 20px;
  }
  #menu {
    margin-bottom: 20px;
  }
  #menu button {
    margin: 8px;
    padding: 12px 25px;
    font-size: 18px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    background: #6200ee;
    color: white;
    transition: background 0.3s;
  }
  #menu button:hover {
    background: #3700b3;
  }
  #gameArea {
    margin-top: 20px;
    min-height: 400px;
  }
  button.backBtn {
    margin-top: 20px;
    background: #bb86fc;
  }
  #leaderboard {
    margin-top: 20px;
    background: #222;
    padding: 10px;
    border-radius: 8px;
  }
  audio {
    display: none;
  }
  #footer {
    margin-top: 40px;
    font-size: 14px;
    color: #999;
  }
  #socialLinks {
    margin-top: 20px;
  }
  #socialLinks a {
    color: #bb86fc;
    text-decoration: none;
    font-weight: bold;
    margin: 0 15px;
    font-size: 16px;
  }
  #socialLinks a:hover {
    text-decoration: underline;
  }
</style>
</head>
<body>

<h1>مرحباً بك في موقع الألعاب التفاعلي</h1>

<div id="menu">
  <button onclick="startGame('guessCharacter')">خمن الشخصية</button>
  <button onclick="startGame('clickSpeed')">أكثر ضغط</button>
  <button onclick="startGame('popBalloon')">فجر البالونات</button>
  <button onclick="startGame('guessDrawing')">خمن الرسمة</button>
  <button onclick="startGame('quiz')">سؤال وجواب</button>
  <button onclick="startGame('guessCountry')">خمن الدولة</button>
  <button onclick="startGame('guessFood')">خمن الأكلة</button>
  <button onclick="showLeaderboard()">لوحة الصدارة</button>
</div>

<div id="socialLinks">
  <a href="https://discord.gg/bmRZjf5fts" target="_blank" rel="noopener">دخول ديسكورد</a>
  <a href="https://instagram.com/f.11aha" target="_blank" rel="noopener">الانستا f.11aha</a>
</div>

<div id="gameArea"></div>

<audio id="bgMusic" loop src="https://cdn.pixabay.com/download/audio/2022/03/22/audio_fa2543d3d7.mp3?filename=relaxing-music-1-6416.mp3"></audio>
<button onclick="toggleMusic()" style="margin-top:15px;">تشغيل/إيقاف الموسيقى 🎵</button>

<div id="footer">Dev By : M2S</div>

<script>
  const gameArea = document.getElementById('gameArea');
  const menu = document.getElementById('menu');
  const bgMusic = document.getElementById('bgMusic');
  let leaderboardData = JSON.parse(localStorage.getItem('leaderboard') || '[]');

  function toggleMusic() {
    if(bgMusic.paused) {
      bgMusic.play();
    } else {
      bgMusic.pause();
    }
  }

  function saveScore(game, score) {
    leaderboardData.push({game, score, date: new Date().toLocaleString()});
    leaderboardData.sort((a,b) => b.score - a.score);
    if(leaderboardData.length > 20) leaderboardData.pop();
    localStorage.setItem('leaderboard', JSON.stringify(leaderboardData));
  }

  function showLeaderboard() {
    menu.style.display = 'none';
    gameArea.innerHTML = '<h2>لوحة الصدارة - أعلى 20 نتيجة</h2>';
    if(leaderboardData.length === 0) {
      gameArea.innerHTML += '<p>لا توجد نتائج بعد</p>';
    } else {
      let html = '<ol style="text-align:right;">';
      leaderboardData.forEach(item => {
        html += `<li><b>${item.game}</b>: ${item.score} - <small>${item.date}</small></li>`;
      });
      html += '</ol>';
      gameArea.innerHTML += html;
    }
    gameArea.innerHTML += '<button class="backBtn" onclick="backToMenu()">عودة للقائمة</button>';
  }

  function backToMenu() {
    gameArea.innerHTML = '';
    menu.style.display = 'block';
  }

  function startGame(name) {
    menu.style.display = 'none';
    gameArea.innerHTML = '';
    switch(name) {
      case 'guessCharacter': guessCharacterGame(); break;
      case 'clickSpeed': clickSpeedGame(); break;
      case 'popBalloon': popBalloonGame(); break;
      case 'guessDrawing': guessDrawingGame(); break;
      case 'quiz': quizGame(); break;
      case 'guessCountry': guessCountryGame(); break;
      case 'guessFood': guessFoodGame(); break;
    }
  }

  // باقي الألعاب والكود يبقى كما هو ...

  // إضافة دالة صوت ماريو للأزرار (كمثال بسيط)
  function playClickSound() {
    const audio = new Audio('https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg');
    audio.volume = 0.3;
    audio.play();
  }

  // مثال على تعديل دالة clickSpeedGame لاستخدام صوت النقر
  function clickSpeedGame() {
    let count = 0;
    let timeLeft = 5;
    gameArea.innerHTML = `
      <h2>اضغط على الزر بأسرع ما يمكن خلال 5 ثواني!</h2>
      <button id="clickBtn" style="font-size:24px; padding:15px;">اضغطني!</button>
      <p>عدد الضغطات: <span id="count">0</span></p>
      <p>الوقت المتبقي: <span id="timeLeft">5</span> ثانية</p>
      <button class="backBtn" onclick="backToMenu()">عودة للقائمة</button>
    `;
    const clickBtn = document.getElementById('clickBtn');
    const countSpan = document.getElementById('count');
    const timeSpan = document.getElementById('timeLeft');

    clickBtn.onclick = () => {
      count++;
      countSpan.textContent = count;
      playClickSound();
    };

    const timer = setInterval(() => {
      timeLeft--;
      timeSpan.textContent = timeLeft;
      if (timeLeft === 0) {
        clearInterval(timer);
        clickBtn.disabled = true;
        alert(`انتهى الوقت! لقد ضغطت ${count} مرة.`);
        saveScore('أكثر ضغط', count);
      }
    }, 1000);
  }

</script>

</body>
</html>
